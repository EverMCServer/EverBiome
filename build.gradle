plugins {
    id 'java-library'
    id 'com.github.johnrengelman.shadow' version '7.0.0'
}

targetCompatibility = JavaVersion.VERSION_11
sourceCompatibility = JavaVersion.VERSION_11
group = ProjectGroup
version = ProjectVersion

repositories {
    mavenCentral()
    mavenLocal()
    maven {
        url "https://jitpack.io"
    }
    maven {
        url "https://hub.spigotmc.org/nexus/content/repositories/snapshots/"
    }
}

dependencies {
    "implementation"("org.spigotmc:spigot-api:1.16.2-R0.1-SNAPSHOT")
    "implementation"("com.comphenix.tinyprotocol:TinyProtocol:1.0.0-SNAPSHOT")
    "implementation"("io.netty:netty-all:4.0.23.Final")
}

tasks.named("assemble").configure {
    dependsOn("shadowJar")
}

shadowJar {
    minimize()
    dependencies {
        include(dependency("com.comphenix.tinyprotocol:TinyProtocol:1.0.0-SNAPSHOT"))
    }
}
